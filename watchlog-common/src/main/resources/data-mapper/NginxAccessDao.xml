<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.netease.qa.log.meta.dao.NginxAccessDao">

     <sql id="allColumn">
    nid as nid;
	log_source_id as logSourceId;
	url String url;
	start_time long startTime;
	total_count as totalCount;
	request_time_total as requestTimeTotal;
	request_time_max as requestTimeMax;
	upstream_response_time_total as upstreamResponseTimeTotal;
	upstream_response_time_max as upstreamResponseTimeMax;
	ok_count as okCount;
	error4_count as error4Count;
	error5_count as error5Count;
	total_byte as byteTotal;
	request_time_90 as requestTime90;
	request_time_99 as requestTime99;
	upstream_response_time_90 as upstreamResponseTime90;
	upstream_response_time_99 as upstreamResponseTime99;
	 </sql>
	 
	<insert id="insert" parameterType="com.netease.qa.log.meta.NginxAccess"
		useGeneratedKeys="true" keyProperty="nid">
		INSERT INTO nginx_access(log_source_id, url, start_time, total_count, request_time_total, request_time_max, upstream_response_time_total, upstream_response_time_max,
                         ok_count, error4_count, error5_count, total_byte, request_time_90, request_time_99, upstream_response_time_90,upstream_response_time_99)
            VALUES(#{logSourceId}, #{url}, #{startTime}, #{totalCount}, #{requestTimeTotal}, #{requestTimeMax}, #{upstreamResponseTimeTotal}, 
            #{upstreamResponseTimeMax}, #{okCount}, #{error4Count}, #{error5Count}, #{byteTotal}, #{requestTime90} , #{requestTime99}, #{upstreamResponseTime90}, #{upstreamResponseTime99})
	</insert>
	
	</mapper>
	