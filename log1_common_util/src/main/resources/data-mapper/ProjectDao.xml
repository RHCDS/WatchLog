<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.netease.qa.log.meta.dao.ProjectDao">

	<sql id="allColumn">
		project_id as projectId,
		project_name as projectName,
		project_name_eng as projectEngName,
		create_time as createTime,
		modify_time as modifyTime,
		time_accuracy as timeAccuracy
	</sql>


	<insert id="insert" parameterType="com.netease.qa.log.meta.Project"
		useGeneratedKeys="true" keyProperty="projectId">
		insert into project(project_name, project_name_eng,create_time, modify_time, time_accuracy) 
		  values(#{projectName}, #{projectEngName},now(), now(),  #{timeAccuracy})
	</insert>

	<update id="update" parameterType="com.netease.qa.log.meta.Project">
		update project set
		project_name=#{projectName},
		project_name_eng=#{projectEngName},
		create_time=create_time,
		modify_time=now(),
		time_accuracy=#{timeAccuracy}
		where project_id=#{projectId}
	</update>

	<delete id="delete" parameterType="java.lang.Integer">
		delete from project where project_id=#{projectId}
	</delete>

	<select id="findByProjectId" parameterType="java.lang.Integer"
		resultType="com.netease.qa.log.meta.Project">
		select
		<include refid="allColumn" />
		from project where project_id=#{projectId}
	</select>
	
	<select id="findByName" resultType="com.netease.qa.log.meta.Project">
	      select
	       <include refid="allColumn"/>
	      from project where project_name_eng=#{name_eng} limit 1
	</select>
</mapper>


